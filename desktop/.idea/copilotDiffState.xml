<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/io/github/ronaldobattisti/desktop/controllers/OrdersPaneController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/io/github/ronaldobattisti/desktop/controllers/OrdersPaneController.java" />
              <option name="originalContent" value="package io.github.ronaldobattisti.desktop.controllers;&#10;&#10;import io.github.ronaldobattisti.desktop.dao.OrderDAO;&#10;import io.github.ronaldobattisti.desktop.models.Order;&#10;import io.github.ronaldobattisti.desktop.utils.SessionManager;&#10;import javafx.collections.FXCollections;&#10;import javafx.fxml.FXML;&#10;&#10;import javafx.scene.control.*;&#10;import javafx.scene.layout.VBox;&#10;&#10;import java.sql.SQLException;&#10;import java.util.Date;&#10;import java.util.List;&#10;&#10;public class OrdersPaneController {&#10;    @FXML private TableView&lt;Order&gt; ordersTable;&#10;    @FXML private TableColumn&lt;Order, Integer&gt; orderIdColumn;&#10;    @FXML private TableColumn&lt;Order, Date&gt; orderDateColumn;&#10;    @FXML private TableColumn&lt;Order, Double&gt; orderAmountColumn;&#10;    @FXML private TableColumn&lt;Order, String&gt; paymentStatusColumn;&#10;&#10;    @FXML private VBox root;&#10;&#10;    @FXML private TextField searchField;&#10;    @FXML private Button refreshButton;&#10;    @FXML private Label rowsCountLabel;&#10;&#10;&#10;    private MainController mainController;&#10;&#10;    public void initialize() {&#10;        orderIdColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;        orderDateColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;date&quot;));&#10;        orderAmountColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;amount&quot;));&#10;        paymentStatusColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;status&quot;));&#10;    }&#10;&#10;    public void updateOrdersTable() {&#10;        try {&#10;            ordersTable.getItems().clear();&#10;            if (SessionManager.getCurrentUser() == null) {&#10;                System.out.println(&quot;OrdersPaneController accessed without a logged-in user.&quot;);&#10;                mainController.showProductsPane();&#10;            } else {&#10;                int userId = SessionManager.getCurrentUser().getId();&#10;                List&lt;Order&gt; orders = OrderDAO.getOrdersByUserId(userId);&#10;                //Convert List to ObservableList to display in TableView&#10;                ordersTable.setItems(FXCollections.observableArrayList(orders));&#10;            }&#10;        } catch (SQLException e){&#10;            System.out.println(&quot;Error fetching orders: &quot; + e.getMessage());&#10;        }&#10;    }&#10;&#10;    public VBox getRoot() {&#10;        return root;&#10;    }&#10;&#10;    public void setMainController(MainController mainController) {&#10;        this.mainController = mainController;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package io.github.ronaldobattisti.desktop.controllers;&#10;&#10;import io.github.ronaldobattisti.desktop.dao.OrderDAO;&#10;import io.github.ronaldobattisti.desktop.models.Order;&#10;import io.github.ronaldobattisti.desktop.utils.SessionManager;&#10;import javafx.collections.FXCollections;&#10;import javafx.fxml.FXML;&#10;&#10;import javafx.scene.control.*;&#10;import javafx.scene.layout.VBox;&#10;&#10;import java.sql.SQLException;&#10;import java.util.Date;&#10;import java.util.List;&#10;&#10;public class OrdersPaneController {&#10;    @FXML private TableView&lt;Order&gt; ordersTable;&#10;    @FXML private TableColumn&lt;Order, Integer&gt; orderIdColumn;&#10;    @FXML private TableColumn&lt;Order, Date&gt; orderDateColumn;&#10;    @FXML private TableColumn&lt;Order, Double&gt; orderAmountColumn;&#10;    @FXML private TableColumn&lt;Order, String&gt; paymentStatusColumn;&#10;&#10;    @FXML private VBox root;&#10;&#10;    @FXML private TextField searchField;&#10;    @FXML private Button refreshButton;&#10;    @FXML private Label rowsCountLabel;&#10;&#10;    @FXML&#10;    private Label welcomeLabel; // deve corresponder exatamente ao fx:id no FXML&#10;&#10;    private MainController mainController;&#10;&#10;    public void initialize() {&#10;        orderIdColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;id&quot;));&#10;        orderDateColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;date&quot;));&#10;        orderAmountColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;amount&quot;));&#10;        paymentStatusColumn.setCellValueFactory(new javafx.scene.control.cell.PropertyValueFactory&lt;&gt;(&quot;status&quot;));&#10;&#10;        // Acessar welcomeLabel apenas aqui (após injeção)&#10;        if (welcomeLabel != null) {&#10;            // exemplo mínimo: garantir texto inicial&#10;            welcomeLabel.setText(&quot;Pedidos&quot;);&#10;        }&#10;    }&#10;&#10;    public void updateOrdersTable() {&#10;        try {&#10;            ordersTable.getItems().clear();&#10;            if (SessionManager.getCurrentUser() == null) {&#10;                System.out.println(&quot;OrdersPaneController accessed without a logged-in user.&quot;);&#10;                mainController.showProductsPane();&#10;            } else {&#10;                int userId = SessionManager.getCurrentUser().getId();&#10;                List&lt;Order&gt; orders = OrderDAO.getOrdersByUserId(userId);&#10;                //Convert List to ObservableList to display in TableView&#10;                ordersTable.setItems(FXCollections.observableArrayList(orders));&#10;            }&#10;        } catch (SQLException e){&#10;            System.out.println(&quot;Error fetching orders: &quot; + e.getMessage());&#10;        }&#10;    }&#10;&#10;    public VBox getRoot() {&#10;        return root;&#10;    }&#10;&#10;    public void setMainController(MainController mainController) {&#10;        this.mainController = mainController;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/io/github/ronaldobattisti/desktop/components/ordersPane.fxml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/io/github/ronaldobattisti/desktop/components/ordersPane.fxml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;?import javafx.scene.control.*?&gt;&#10;&lt;?import javafx.scene.layout.*?&gt;&#10;&#10;&lt;VBox alignment=&quot;TOP_CENTER&quot;&#10;    xmlns=&quot;http://javafx.com/javafx/8&quot;&#10;    xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&#10;    fx:controller=&quot;io.github.ronaldobattisti.desktop.controllers.OrdersPaneController&quot;&#10;    fx:id=&quot;root&quot;&gt;&#10;    &lt;!-- ...existing code... --&gt;&#10;    &lt;ToolBar&gt;&#10;        &lt;Label text=&quot;Pedidos&quot;/&gt;&#10;        &lt;Pane HBox.hgrow=&quot;ALWAYS&quot;/&gt;&#10;        &lt;TextField fx:id=&quot;searchField&quot; promptText=&quot;Pesquisar...&quot;/&gt;&#10;        &lt;Button text=&quot;Atualizar&quot; fx:id=&quot;refreshButton&quot;/&gt;&#10;    &lt;/ToolBar&gt;&#10;&#10;    &lt;!-- Tabela principal --&gt;&#10;    &lt;TableView fx:id=&quot;ordersTable&quot; prefHeight=&quot;350&quot; prefWidth=&quot;800&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;&#10;        &lt;columns&gt;&#10;            &lt;TableColumn fx:id=&quot;orderIdColumn&quot; text=&quot;ID&quot; prefWidth=&quot;80&quot;/&gt;&#10;            &lt;TableColumn fx:id=&quot;orderDateColumn&quot; text=&quot;Data&quot; prefWidth=&quot;140&quot;/&gt;&#10;            &lt;TableColumn fx:id=&quot;orderAmountColumn&quot; text=&quot;Total&quot; prefWidth=&quot;120&quot;/&gt;&#10;            &lt;TableColumn fx:id=&quot;paymentStatusColumn&quot; text=&quot;Status&quot; prefWidth=&quot;120&quot;/&gt;&#10;        &lt;/columns&gt;&#10;&#10;        &lt;!-- Placeholder quando vazio --&gt;&#10;        &lt;placeholder&gt;&#10;            &lt;Label text=&quot;Nenhum pedido encontrado.&quot;/&gt;&#10;        &lt;/placeholder&gt;&#10;    &lt;/TableView&gt;&#10;&#10;    &lt;!-- Rodapé simples (opcional) --&gt;&#10;    &lt;HBox alignment=&quot;CENTER_RIGHT&quot; spacing=&quot;8&quot;&gt;&#10;        &lt;Label text=&quot;Total de linhas:&quot;/&gt;&#10;        &lt;Label fx:id=&quot;rowsCountLabel&quot; text=&quot;0&quot;/&gt;&#10;    &lt;/HBox&gt;&#10;&lt;/VBox&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;?import javafx.scene.control.*?&gt;&#10;&lt;?import javafx.scene.layout.*?&gt;&#10;&#10;&lt;VBox alignment=&quot;TOP_CENTER&quot;&#10;    xmlns=&quot;http://javafx.com/javafx/8&quot;&#10;    xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&#10;    fx:controller=&quot;io.github.ronaldobattisti.desktop.controllers.OrdersPaneController&quot;&#10;    fx:id=&quot;root&quot;&gt;&#10;    &lt;!-- ...existing code... --&gt;&#10;    &lt;ToolBar&gt;&#10;        &lt;!-- Adicionado fx:id para poder injetar no controller --&gt;&#10;        &lt;Label fx:id=&quot;welcomeLabel&quot; text=&quot;Pedidos&quot;/&gt;&#10;        &lt;Pane HBox.hgrow=&quot;ALWAYS&quot;/&gt;&#10;        &lt;TextField fx:id=&quot;searchField&quot; promptText=&quot;Pesquisar...&quot;/&gt;&#10;        &lt;Button text=&quot;Atualizar&quot; fx:id=&quot;refreshButton&quot;/&gt;&#10;    &lt;/ToolBar&gt;&#10;&#10;    &lt;!-- Tabela principal --&gt;&#10;    &lt;TableView fx:id=&quot;ordersTable&quot; prefHeight=&quot;350&quot; prefWidth=&quot;800&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;&#10;        &lt;columns&gt;&#10;            &lt;TableColumn fx:id=&quot;orderIdColumn&quot; text=&quot;ID&quot; prefWidth=&quot;80&quot;/&gt;&#10;            &lt;TableColumn fx:id=&quot;orderDateColumn&quot; text=&quot;Data&quot; prefWidth=&quot;140&quot;/&gt;&#10;            &lt;TableColumn fx:id=&quot;orderAmountColumn&quot; text=&quot;Total&quot; prefWidth=&quot;120&quot;/&gt;&#10;            &lt;TableColumn fx:id=&quot;paymentStatusColumn&quot; text=&quot;Status&quot; prefWidth=&quot;120&quot;/&gt;&#10;        &lt;/columns&gt;&#10;&#10;        &lt;!-- Placeholder quando vazio --&gt;&#10;        &lt;placeholder&gt;&#10;            &lt;Label text=&quot;Nenhum pedido encontrado.&quot;/&gt;&#10;        &lt;/placeholder&gt;&#10;    &lt;/TableView&gt;&#10;&#10;    &lt;!-- Rodapé simples (opcional) --&gt;&#10;    &lt;HBox alignment=&quot;CENTER_RIGHT&quot; spacing=&quot;8&quot;&gt;&#10;        &lt;Label text=&quot;Total de linhas:&quot;/&gt;&#10;        &lt;Label fx:id=&quot;rowsCountLabel&quot; text=&quot;0&quot;/&gt;&#10;    &lt;/HBox&gt;&#10;&lt;/VBox&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>